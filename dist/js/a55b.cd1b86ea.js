(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["a55b"],{a55b:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-content",[o("v-container",{attrs:{"fill-height":"",fluid:""}},[o("v-layout",{attrs:{"align-center":"","justify-center":""}},[o("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[o("material-card",{attrs:{color:"info",title:e.$t("Common.login")}},[o("v-card-text",[o("v-form",[o("v-text-field",{ref:"username",attrs:{rules:[function(){return!!e.username||"This field is required"}],"prepend-icon":"mdi-account",label:"Login",placeholder:"username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),o("v-text-field",{ref:"password",attrs:{rules:[function(){return!!e.password||"This field is required"}],"append-icon":e.showPassword?"mdi-eye-off":"mdi-eye",type:e.showPassword?"text":"password","prepend-icon":"mdi-lock",label:"Password",placeholder:"*********",counter:"",required:""},on:{keydown:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.login(t):null},"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),o("v-divider",{staticClass:"mt-5"}),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{"align-center":"","justify-center":"",color:"info"},on:{click:e.login}},[e._v(e._s(e.$t("Common.login"))+"\n            ")])],1),o("v-snackbar",{attrs:{color:e.color,top:!0},model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v("\n            "+e._s(e.errorMessages)+"\n            "),o("v-btn",{attrs:{dark:"",flat:""},on:{click:function(t){e.snackbar=!1}}},[e._v("\n              Close\n            ")])],1)],1)],1)],1)],1)],1)},n=[],s={data:function(){return{username:"",password:"",errorMessages:"Incorrect login info",snackbar:!1,color:"general",showPassword:!1}},methods:{login:function(){var e=this,t=this.username,o=this.password;t&&o&&(this.$store.commit("update",{overlay:!0}),this.$http.post("/auth/login",{email:t,password:o}).then(function(t){var o=t.data.access_token,r=t.data.email;localStorage.setItem("token",o),localStorage.setItem("user",r),e.$http.defaults.headers.common["Authorization"]="Bearer "+o,e.$store.commit("update",{overlay:!1,authStatus:"success",token:o,user:r}),e.$router.push("/")}).catch(function(t){console.error(t),e.$store.commit("update",{overlay:!1,authStatus:"error",token:null,user:null}),localStorage.removeItem("token"),localStorage.removeItem("user"),e.snackbar=!0}))}},metaInfo:function(){return{title:this.$t("Common.login")+" | "+this.$t("Common.title")}}},a=s,l=o("2877"),i=Object(l["a"])(a,r,n,!1,null,null,null);t["default"]=i.exports}}]);
//# sourceMappingURL=a55b.cd1b86ea.js.map