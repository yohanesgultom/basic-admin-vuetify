(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["a55b"],{a55b:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-content",[r("v-container",{attrs:{"fill-height":"",fluid:""}},[r("v-layout",{attrs:{"align-center":"","justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm8:"",md4:""}},[r("material-card",{attrs:{title:e.$t("login"),color:"info"}},[r("v-card-text",[r("locale-changer"),r("v-form",{ref:"form"},[r("v-text-field",{ref:"username",attrs:{rules:[function(){return!!e.username||e.$t("requiredMessage")}],"prepend-icon":"mdi-account",label:e.$t("email"),placeholder:"user@email.com",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),r("v-text-field",{ref:"password",attrs:{rules:[function(){return!!e.password||e.$t("requiredMessage")}],"append-icon":e.showPassword?"mdi-eye-off":"mdi-eye",type:e.showPassword?"text":"password","prepend-icon":"mdi-lock",label:e.$t("password"),placeholder:"*********",counter:"",required:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)},"click:append":function(t){e.showPassword=!e.showPassword}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),r("v-divider",{staticClass:"mt-5"}),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{"align-center":"","justify-center":"",color:"info"},on:{click:e.login}},[e._v(e._s(e.$t("login"))+"\n            ")]),r("v-btn",{attrs:{"align-center":"","justify-center":"",to:"register"}},[e._v(e._s(e.$t("register"))+"\n            ")])],1)],1)],1)],1)],1)],1)},a=[],o={data:function(){return{username:"",password:"",showPassword:!1}},methods:{login:function(){var e=this;if(this.$refs.form.validate()){var t=this.username,r=this.password;this.$store.commit("update",{overlay:!0}),this.$http.post("/auth/login",{email:t,password:r}).then(function(t){var r=t.data.access_token,s=t.data.email;localStorage.setItem("token",r),localStorage.setItem("user",s),e.$http.defaults.headers.common["Authorization"]="Bearer "+r,e.$store.commit("update",{overlay:!1,authStatus:"success",token:r,user:s}),e.$router.push("/")}).catch(function(t){console.error(t);var r=t.response.data||t;e.$store.commit("update",{overlay:!1,alertMessage:r,authStatus:"error",token:null,user:null}),localStorage.removeItem("token"),localStorage.removeItem("user")})}}},metaInfo:function(){return{title:this.$t("login")+" | "+this.$t("title")}}},n=o,i=r("2877"),l=Object(i["a"])(n,s,a,!1,null,null,null);t["default"]=l.exports}}]);
//# sourceMappingURL=a55b.8ba337a6.js.map