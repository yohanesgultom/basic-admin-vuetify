{"version":3,"sources":["webpack:///./src/views/Login.vue?ccd4","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fill-height","fluid","align-center","justify-center","xs12","sm8","md4","title","$t","color","ref","rules","username","prepend-icon","label","placeholder","required","model","value","callback","$$v","expression","password","append-icon","showPassword","type","counter","on","keydown","$event","indexOf","_k","keyCode","key","login","click:append","staticClass","click","_v","_s","to","staticRenderFns","Loginvue_type_script_lang_js_","data","methods","_this","$refs","form","validate","$store","commit","overlay","$http","post","email","then","response","token","access_token","user","localStorage","setItem","defaults","headers","common","authStatus","$router","push","catch","err","console","error","errMsg","alertMessage","removeItem","metaInfo","views_Loginvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/a55b.8ba337a6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[_c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\",\"md4\":\"\"}},[_c('material-card',{attrs:{\"title\":_vm.$t('login'),\"color\":\"info\"}},[_c('v-card-text',[_c('locale-changer'),_c('v-form',{ref:\"form\"},[_c('v-text-field',{ref:\"username\",attrs:{\"rules\":[function () { return !!_vm.username || _vm.$t('requiredMessage'); }],\"prepend-icon\":\"mdi-account\",\"label\":_vm.$t('email'),\"placeholder\":\"user@email.com\",\"required\":\"\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('v-text-field',{ref:\"password\",attrs:{\"rules\":[function () { return !!_vm.password || _vm.$t('requiredMessage'); }],\"append-icon\":_vm.showPassword ? 'mdi-eye-off' : 'mdi-eye',\"type\":_vm.showPassword ? 'text' : 'password',\"prepend-icon\":\"mdi-lock\",\"label\":_vm.$t('password'),\"placeholder\":\"*********\",\"counter\":\"\",\"required\":\"\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)},\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),_c('v-divider',{staticClass:\"mt-5\"}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"align-center\":\"\",\"justify-center\":\"\",\"color\":\"info\"},on:{\"click\":_vm.login}},[_vm._v(_vm._s(_vm.$t('login'))+\"\\n            \")]),_c('v-btn',{attrs:{\"align-center\":\"\",\"justify-center\":\"\",\"to\":\"register\"}},[_vm._v(_vm._s(_vm.$t('register'))+\"\\n            \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-content>\n    <v-container\n      fill-height\n      fluid>\n      <v-layout\n        align-center\n        justify-center>\n        <v-flex\n          xs12\n          sm8\n          md4>\n          <material-card\n            :title=\"$t('login')\"\n            color=\"info\"\n          >\n            <v-card-text>\n              <locale-changer></locale-changer>\n              <v-form ref=\"form\">\n                <v-text-field\n                  ref=\"username\"\n                  v-model=\"username\"\n                  :rules=\"[() => !!username || $t('requiredMessage')]\"\n                  prepend-icon=\"mdi-account\"\n                  :label=\"$t('email')\"\n                  placeholder=\"user@email.com\"\n                  required\n                />\n                <v-text-field\n                  ref=\"password\"\n                  v-model=\"password\"\n                  :rules=\"[() => !!password || $t('requiredMessage')]\"\n                  :append-icon=\"showPassword ? 'mdi-eye-off' : 'mdi-eye'\"\n                  :type=\"showPassword ? 'text' : 'password'\"\n                  prepend-icon=\"mdi-lock\"\n                  :label=\"$t('password')\"\n                  placeholder=\"*********\"\n                  counter\n                  required\n                  @keydown.enter=\"login\"\n                  @click:append=\"showPassword = !showPassword\"\n                />\n              </v-form>\n            </v-card-text>\n            <v-divider class=\"mt-5\"/>\n            <v-card-actions>\n              <v-spacer/>\n              <v-btn\n                align-center\n                justify-center\n                color=\"info\"\n                @click=\"login\">{{ $t('login') }}\n              </v-btn>\n              <v-btn\n                align-center\n                justify-center                \n                to=\"register\">{{ $t('register') }}\n              </v-btn>\n            </v-card-actions>\n          </material-card>\n        </v-flex>\n      </v-layout>\n\n    </v-container>\n  </v-content>\n</template>\n\n<script>\nexport default {\n  data: function () {\n    return {\n      username: '',\n      password: '',\n      showPassword: false\n    }\n  },\n\n  // Sends action to Vuex that will log you in and redirect to the dash otherwise, error\n  methods: {\n    login: function () {\n      if (this.$refs.form.validate()) {\n        let username = this.username\n        let password = this.password\n        this.$store.commit('update', { overlay: true })\n        this.$http.post('/auth/login', { email: username, password: password })\n          .then(response => {\n            const token = response.data.access_token\n            const user = response.data.email\n            // console.log(response)\n            // storing jwt in localStorage. https cookie is safer place to store\n            localStorage.setItem('token', token)\n            localStorage.setItem('user', user)\n            this.$http.defaults.headers.common['Authorization'] = 'Bearer ' + token\n            // mutation to change state properties to the values passed along\n            this.$store.commit('update', {\n              overlay: false,\n              authStatus: 'success',\n              token: token,\n              user: user\n            })\n            this.$router.push('/')\n          })\n          .catch(err => {\n            console.error(err)\n            let errMsg = err.response.data || err\n            this.$store.commit('update', {\n              overlay: false,\n              alertMessage: errMsg,\n              authStatus: 'error',\n              token: null,\n              user: null\n            })\n            localStorage.removeItem('token')\n            localStorage.removeItem('user')\n          })\n      }\n    }\n  },\n  metaInfo () {\n    return {\n      title: this.$t('login') + ' | ' + this.$t('title')\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=2fdfcf80&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}