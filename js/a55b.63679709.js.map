{"version":3,"sources":["webpack:///./src/views/Login.vue?d962","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?5da6","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","fill-height","fluid","align-center","justify-center","xs12","sm8","md4","title","$t","color","ref","rules","username","prepend-icon","label","placeholder","required","model","value","callback","$$v","expression","password","append-icon","showPassword","type","counter","on","keydown","$event","indexOf","_k","keyCode","key","login","click:append","staticClass","click","_v","_s","top","snackbar","errorMessages","dark","flat","staticRenderFns","Loginvue_type_script_lang_js_","data","methods","_this","$store","commit","overlay","$http","post","email","then","response","token","access_token","user","localStorage","setItem","defaults","headers","common","authStatus","$router","push","catch","err","console","error","removeItem","metaInfo","views_Loginvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/a55b.63679709.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-content',[_c('v-container',{attrs:{\"fill-height\":\"\",\"fluid\":\"\"}},[_c('v-layout',{attrs:{\"align-center\":\"\",\"justify-center\":\"\"}},[_c('v-flex',{attrs:{\"xs12\":\"\",\"sm8\":\"\",\"md4\":\"\"}},[_c('material-card',{attrs:{\"title\":_vm.$t('Common.login'),\"color\":\"info\"}},[_c('v-card-text',[_c('v-form',[_c('v-text-field',{ref:\"username\",attrs:{\"rules\":[function () { return !!_vm.username || 'This field is required'; }],\"prepend-icon\":\"mdi-account\",\"label\":\"Login\",\"placeholder\":\"username\",\"required\":\"\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('v-text-field',{ref:\"password\",attrs:{\"rules\":[function () { return !!_vm.password || 'This field is required'; }],\"append-icon\":_vm.showPassword ? 'mdi-eye-off' : 'mdi-eye',\"type\":_vm.showPassword ? 'text' : 'password',\"prepend-icon\":\"mdi-lock\",\"label\":\"Password\",\"placeholder\":\"*********\",\"counter\":\"\",\"required\":\"\"},on:{\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.login($event)},\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),_c('v-divider',{staticClass:\"mt-5\"}),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"align-center\":\"\",\"justify-center\":\"\",\"color\":\"info\"},on:{\"click\":_vm.login}},[_vm._v(_vm._s(_vm.$t('Common.login'))+\"\\n            \")])],1),_c('v-snackbar',{attrs:{\"color\":_vm.color,\"top\":true},model:{value:(_vm.snackbar),callback:function ($$v) {_vm.snackbar=$$v},expression:\"snackbar\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.errorMessages)+\"\\n            \"),_c('v-btn',{attrs:{\"dark\":\"\",\"flat\":\"\"},on:{\"click\":function($event){_vm.snackbar = false}}},[_vm._v(\"\\n              Close\\n            \")])],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-content>\n    <v-container\n      fill-height\n      fluid>\n      <v-layout\n        align-center\n        justify-center>\n        <v-flex\n          xs12\n          sm8\n          md4>\n          <material-card\n            :title=\"$t('Common.login')\"\n            color=\"info\"\n          >\n            <v-card-text>\n              <v-form >\n                <v-text-field\n                  ref=\"username\"\n                  v-model=\"username\"\n                  :rules=\"[() => !!username || 'This field is required']\"\n                  prepend-icon=\"mdi-account\"\n                  label=\"Login\"\n                  placeholder=\"username\"\n                  required\n                />\n                <v-text-field\n                  ref=\"password\"\n                  v-model=\"password\"\n                  :rules=\"[() => !!password || 'This field is required']\"\n                  :append-icon=\"showPassword ? 'mdi-eye-off' : 'mdi-eye'\"\n                  :type=\"showPassword ? 'text' : 'password'\"\n                  prepend-icon=\"mdi-lock\"\n                  label=\"Password\"\n                  placeholder=\"*********\"\n                  counter\n                  required\n                  @keydown.enter=\"login\"\n                  @click:append=\"showPassword = !showPassword\"\n                />\n              </v-form>\n            </v-card-text>\n            <v-divider class=\"mt-5\"/>\n            <v-card-actions>\n              <v-spacer/>\n              <v-btn\n                align-center\n                justify-center\n                color=\"info\"\n                @click=\"login\">{{ $t('Common.login') }}\n              </v-btn>\n            </v-card-actions>\n            <v-snackbar\n              v-model=\"snackbar\"\n              :color=\"color\"\n              :top=\"true\"\n            >\n              {{ errorMessages }}\n              <v-btn\n                dark\n                flat\n                @click=\"snackbar = false\"\n              >\n                Close\n              </v-btn>\n            </v-snackbar>\n          </material-card>\n        </v-flex>\n      </v-layout>\n\n    </v-container>\n  </v-content>\n</template>\n\n<script>\nexport default {\n  data: function () {\n    return {\n      username: '',\n      password: '',\n      errorMessages: 'Incorrect login info',\n      snackbar: false,\n      color: 'general',\n      showPassword: false\n    }\n  },\n\n  // Sends action to Vuex that will log you in and redirect to the dash otherwise, error\n  methods: {\n    login: function () {\n      let username = this.username\n      let password = this.password\n      if (username && password) {\n        this.$store.commit('update', { overlay: true })\n        this.$http.post('/auth/login', { email: username, password: password })\n          .then(response => {\n            const token = response.data.access_token\n            const user = response.data.email\n            // console.log(response)\n            // storing jwt in localStorage. https cookie is safer place to store\n            localStorage.setItem('token', token)\n            localStorage.setItem('user', user)\n            this.$http.defaults.headers.common['Authorization'] = 'Bearer ' + token\n            // mutation to change state properties to the values passed along\n            this.$store.commit('update', {\n              overlay: false,\n              authStatus: 'success',\n              token: token,\n              user: user\n            })\n            this.$router.push('/')\n          })\n          .catch(err => {\n            console.error(err)\n            this.$store.commit('update', {\n              overlay: false,\n              authStatus: 'error',\n              token: null,\n              user: null\n            })\n            localStorage.removeItem('token')\n            localStorage.removeItem('user')\n            this.snackbar = true\n          })\n      }\n    }\n  },\n  metaInfo () {\n    return {\n      title: this.$t('Common.login') + ' | ' + this.$t('Common.title')\n    }\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=1ada68c0&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}